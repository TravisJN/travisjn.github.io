
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>jQuery Event Handler Delegation</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=43e397f249">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">

    <link rel="canonical" href="http://localhost:2368/jquery-event-handler-delegation/">
    
    <meta property="og:site_name" content="TravLearnsJS">
    <meta property="og:type" content="article">
    <meta property="og:title" content="jQuery Event Handler Delegation">
    <meta property="og:description" content="Today at MakerSquare we're building a dance floor application that allows the user to click a button to add dancers to a dance floor space. The app lives in the browser and the dancers are html elements that are dynamically...">
    <meta property="og:url" content="http://localhost:2368/jquery-event-handler-delegation/">
    <meta property="article:published_time" content="2015-03-25T02:17:21.139Z">
    <meta property="article:modified_time" content="2015-03-25T02:17:21.138Z">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="jQuery Event Handler Delegation">
    <meta name="twitter:description" content="Today at MakerSquare we're building a dance floor application that allows the user to click a button to add dancers to a dance floor space. The app lives in the browser and the dancers are html elements that are dynamically...">
    <meta name="twitter:url" content="http://localhost:2368/jquery-event-handler-delegation/">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "TravLearnsJS",
    "author": {
        "@type": "Person",
        "name": "Travis Neufeld",
        "image": "//www.gravatar.com/avatar/d02f1d451097a193d4d54da68ad468c2?s=250&d=mm&r=x",
        "url": "http://localhost:2368/author/travis",
        "sameAs": null
    },
    "headline": "jQuery Event Handler Delegation",
    "url": "http://localhost:2368/jquery-event-handler-delegation/",
    "datePublished": "2015-03-25T02:17:21.139Z",
    "dateModified": "2015-03-25T02:17:21.138Z",
    "description": "Today at MakerSquare we&#x27;re building a dance floor application that allows the user to click a button to add dancers to a dance floor space. The app lives in the browser and the dancers are html elements that are dynamically..."
}
    </script>

    <meta name="generator" content="Ghost 0.5">
    <link rel="alternate" type="application/rss+xml" title="TravLearnsJS" href="http://localhost:2368/rss/">
</head>
<body class="post-template nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="index.html#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
            <li class="nav-home" role="presentation"><a href="http://localhost:2368/">Home</a></li>
    </ul>
    <a class="subscribe-button icon-feed" href="../rss/index.rss">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
            <a class="menu-button" href="index.html#"><span class="burger">☰</span><span class="word">Menu</span></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post">

        <header class="post-header">
            <h1 class="post-title">jQuery Event Handler Delegation</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2015-03-24">24 March 2015</time> 
            </section>
        </header>

        <section class="post-content">
            <p>Today at MakerSquare we're building a dance floor application that allows the user to click a button to add dancers to a dance floor space. The app lives in the browser and the dancers are html elements that are dynamically added to the DOM at a random position. The problem I and Trace, my project partner, experienced was one I had seen before and, after a stackOverflow search, it seems that many others before us have experienced as well. The problem was as follows: We needed to be able to interact with our dancers using the mouse, and when we did, make the dancers perform an action. Because we were manipulating the appearance of html elements, we had to use jQuery to perform said action.</p>

<p>So we set up an event listener to fire our function whenever we clicked on one of the dancers. But nothing happened. Our function wasn't firing and in fact, jQuery wasn't recognizing that any dancers were even on screen. So what's up jQuery? Are you blind or something? Silly jQuery... The fact is, when you create an event listener, jQuery takes a snapshot of the DOM at the moment of creation and if anything is added after that, it doesn't know it's there.</p>

<p>You can work with this limitation however by pointing jQuery to your dynamically created object through an element that did exist when the event listener was created, such as the body of the html document or anything that is in the html file itself. This process is called event delegation. Let's look at some code shall we?</p>

<blockquote>  
$('.colorDancer').on('click', function(event) {
    $(this).toggleClass('colorDancer');
    $(this).toggleClass('colorDancerClicked');
    });
</blockquote>

<p>This block is a jQuery event handler.  We're telling jQuery to look for any element with the class "colorDancer" and when it's clicked, remove the class "colorDancer" and the "colorDancerClicked" class.  In this example, the webpage is loaded with without any elements that have the "colorDancer" class but they can be added by the user after the page has loaded.  Because the "colorDancer" elements are created dynamically, jQuery will not be able to recognize them and the code will do nothing.  In comes event delegation:</p>

<blockquote>  
$(<strong>'body'</strong>).on('click', <strong>'.colorDancer'</strong>, function(event) {
    $(this).toggleClass('colorDancer');
    $(this).toggleClass('colorDancerClicked');
    });
</blockquote>

<p>In order for jQuery to see our new dancers, we have to point to them through an element that existed when the event listener was created.  In this case we're using  because every page has a body and it must be in the html file therefore it is something that we know existed from the instant the page loaded.  By adding our specific target as the second argument in the .on() function, we are telling jQuery to first find body, then within body look for anything that has a "colorDancer" class.  jQuery thus finds it and toggles our classes.  Voila.</p>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="../author/travis/" style="background-image: url(http://www.gravatar.com/avatar/d02f1d451097a193d4d54da68ad468c2?s=250&amp;d=mm&amp;r=x)"><span class="hidden">Travis Neufeld's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="../author/travis/">Travis Neufeld</a></h4>

                    <p>Read <a href="../author/travis/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/share?text=jQuery%20Event%20Handler%20Delegation&amp;url=http://localhost:2368/jquery-event-handler-delegation/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/jquery-event-handler-delegation/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://localhost:2368/jquery-event-handler-delegation/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>

    </article>
</main>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="http://localhost:2368">TravLearnsJS</a> © 2015</section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <script src="../public/jquery.js?v=43e397f249"></script>

    <script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=43e397f249"></script>
    <script type="text/javascript" src="../assets/js/index.js?v=43e397f249"></script>

</body>
